<div>
	<h2>
		<span>Application No.: </span> {{applicationTxn.id}}
	</h2>
	<div class="panel panel-primary">
		<div class="panel-heading clearfix">
			<h3 class="panel-title pull-left">Requests</h3>
		</div>
		<div class="list-group">
			<div class="table-responsive" 
			ng-hide="applicationTxn.ststus===0">
				<table class="clickableTable table table-striped">
					<thead>
						<tr>
							<!-- <th>Req. Id</th>
							<th>Req. No.</th> -->
							<th>From</th>
							<th>To</th>
							<th>Actioned Date</th>
							<th>Remarks</th>
							<th>Status</th>
							<th>IP Address</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in requestWorkflowHistorys">
							<!-- <td>{{item.domainObject}}</td>
							<td>{{item.fileNumber}}</td> -->
							<td>{{item.assignedFrom.firstName}}
								{{item.assignedFrom.lastName}} ({{item.assignedFrom.login}})</td>
							<td>{{item.assignedTo.firstName}}
								{{item.assignedTo.lastName}} ({{item.assignedTo.login}})</td>
							<td>{{item.actionedDate | date:'medium'}}</td>
							<td>{{item.remarks}}</td>
							<td>{{item.statusMaster.status}}</td>
							<td>{{item.ipAddress}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div>
		<div class="panel panel-primary">
			<div class="panel-heading clearfix">
				<h3 class="panel-title pull-left">
					Application For New Connection
					<!-- <span class="label" class="label"
						ng-class="{	'label-success'	: applicationTxn.status === 2, 
										'label-warning'	: applicationTxn.status === 1, 
										'label-danger'	: applicationTxn.status === 0}">
						{{applicationTxn.status===0?'Pending':(requisition.status===1?'In
						Feasibility':'Approved')}}</span> -->
				</h3>
			</div>
			<div class="list-group">
				<div class="list-group-item">
					<fieldset>
						<legend></legend>
						<div class="row">
							<div class="col-sm-3" ng-hide="applicationTxn.fileNumber===null">
								<label>File Number</label>
								<h5 class="list-group-item-heading">{{applicationTxn.fileNumber}}</h5>
							</div>
							<div class="col-sm-3">
								<label>Application No</label>
								<h5 class="list-group-item-heading">{{applicationTxn.id}}</h5>
							</div>
							<div class="col-sm-3">
								<label>RequestDate</label>
								<h5 class="list-group-item-heading">{{applicationTxn.requestedDate
									| date:'medium'}}</h5>
							</div>
						</div>
					</fieldset>
					<br>
					<fieldset>
						<legend>Applicant Details</legend>
						<div class="row">
							<div class="col-sm-3">
								<label>Full Name</label>
								<h5 class="list-group-item-heading">{{applicationTxn.fullName}}</h5>
							</div>
						<!-- </div>
						<div class="row"> -->
							<div class="col-sm-3">
								<label>Home/Office Number</label>
								<h5 class="list-group-item-heading">{{applicationTxn.homeOrOfficeNumber}}</h5>
							</div>
							<div class="col-sm-3">
								<label> Regional Number</label>
								<h5 class="list-group-item-heading">{{applicationTxn.regionalNumber}}</h5>
							</div>
							<div class="col-sm-3">
								<label> Fax Number</label>
								<h5 class="list-group-item-heading">{{applicationTxn.faxNumber}}</h5>
							</div>
						</div>
					</fieldset>
					<br>
					<fieldset>
						<legend>Address</legend>
						<div class="row">
							<div class="col-sm-3">
								<label> Plot Number</label>
								<h5 class="list-group-item-heading">{{applicationTxn.plotNumber}}</h5>
							</div>
							<div class="col-sm-3">
								<label> Area</label>
								<h5 class="list-group-item-heading">{{applicationTxn.area}}</h5>
							</div>
							<div class="col-sm-3">
								<label> Street</label>
								<h5 class="list-group-item-heading">{{applicationTxn.street}}</h5>
							</div>
							<div class="col-sm-3">
								<label>P.O. Box</label>
								<h5 class="list-group-item-heading">{{applicationTxn.poBox}}</h5>
							</div>
						</div>
						<br>
						<div class="row">
							<div class="col-sm-3">
								<label> Village Executive Office</label>
								<h5 class="list-group-item-heading">{{applicationTxn.villageExecutiveOffice}}</h5>
							</div>
							<div class="col-sm-3">
								<label> Village Executive Office Number</label>
								<h5 class="list-group-item-heading">{{applicationTxn.villageExecutiveOfficeNumber}}</h5>
							</div>
							<div class="col-sm-6">
								<label> Detail Address</label>
								<h5 class="list-group-item-heading">{{applicationTxn.detailAddress}}</h5>
							</div>
						</div>
					</fieldset>
					<br>
					<fieldset>
						<legend>Connection Details</legend>
						<div class="row">
							<div class="col-sm-3">
								<label>Category</label>
								<h5 class="list-group-item-heading">{{applicationTxn.categoryMaster.categoryName}}</h5>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>


		<!-- ng-show="{{applicationTxn.status==0}}" -->
		<button type="button" class="btn btn-success pull-right"  
			ng-show="applicationTxn.status === 0 || applicationTxn.status === 1"
			ng-click="getApplicationTxn(applicationTxn.id)">
			<span class="glyphicon glyphicon-check"></span>&nbsp;Approve
		</button>

		<button type="button" class="btn btn-success pull-right"
			ng-show="applicationTxn.status===2"
			ui-sref="feasibilityStudyForAppTxn({applicationId:applicationTxn.id})">
			<span class="glyphicon glyphicon-check"></span>&nbsp;Create
			Feasibility
		</button>
		
		<button type="button" class="btn btn-success pull-right"
			ng-show="applicationTxn.status===3"
			ui-sref="proceedingsForAppTxn({applicationTxnId:applicationTxn.id})">
			<span class="glyphicon glyphicon-check"></span>&nbsp;Create
			Proceedings
		</button>
		
		<button type="button" class="btn btn-success pull-right"
			ng-show="applicationTxn.status===4"
			ui-sref="proceedingsDetailForAppTxn({applicationTxnId:applicationTxn.id})">
			<span class="glyphicon glyphicon-check"></span>&nbsp;Review
			Proceedings
		</button>
		
		<span class="pull-right">&nbsp;&nbsp;&nbsp;</span>
		
		<button type="button" class="btn btn-success pull-right"
			ng-show="applicationTxn.status===6"
			ui-sref="receiptForAppTxn({applicationTxnId:applicationTxn.id})">
			<span class="glyphicon glyphicon-check"></span>&nbsp;Create Receipt
		</button>
		
		<button type="button" class="btn btn-success pull-right"
			ng-show="applicationTxn.status===5"
			ui-sref="itemRequiredForApplicationTxn({applicationTxnId:applicationTxn.id})">
			<span class="glyphicon glyphicon-check"></span>&nbsp;Issue Items
		</button>
		
		

		<span class="pull-right">&nbsp;&nbsp;&nbsp;</span>

		<button type="button" class="btn btn-danger pull-right"
			ng-click="declineRequest(applicationTxn.id)">
			<span class="glyphicon glyphicon-remove-circle"></span>&nbsp;Decline
		</button>


		<button type="submit" onclick="window.history.back()"
			class="btn btn-info">
			<span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span>
				Back</span>
		</button>
	</div>

	<div id="approveModal" class="modal" name="aproveForm">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<form name="editForm" role="form" novalidate>
					<div class="panel panel-primary">
						<div class="panel-heading clearfix">
							<h3 class="panel-title pull-left">Application Approval
								Details</h3>
							<button type="button" class="close" data-dismiss="modal"
								aria-hidden="true" ng-click="clear()">&times;</button>
						</div>
						<div class="list-group">
							<div class="list-group-item">
								<div class="modal-body">
									<jh-alert-error></jh-alert-error>
									<div class="row">
										<div class="col-sm-3">
											<label for="field_applicationTxn">Application No. </label>
											<input type="text" class="form-control" name="applicationTxn"
												id="field_applicationTxn" ng-model="applicationTxn.id"
												disabled />
										</div>
										<!-- <div class="col-sm-3">
											<label for="field_fileNumber">File Number</label> <input
												type="text" class="form-control" id="field_fileNumber"
												name="fileNumber" ng-model="applicationTxn.fileNumber"
												disabled />

										</div> -->
										<div class="col-sm-3">
											<label class="control-label" for="field_approvedDate">Approved
												Date</label>
											<div class="form-group">
												<div class='input-group date' id='field_approvedDate'>
													<input id="field_approvedDate" type="text"
														class="form-control" uib-datepicker-popup="{{dateformat}}"
														ng-model="approvalDetails.approvedDate"
														max-date="maxDate"
														is-open="datePickerForApprovedDate.status.opened" /> <span
														class="input-group-btn">
														<button type="button" class="btn btn-default"
															ng-click="datePickerForApprovedDateOpen($event)">
															<i class="glyphicon glyphicon-calendar"></i>
														</button>
													</span>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<label class="control-label" for="field_remarks">Remarks</label>
											<textarea rows="4" cols="50" class="form-control"
												name="remarks" id="field_remarks"
												max="20"
												ng-model="applicationTxn.remarks"></textarea>
										</div>
									</div>
									<br>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal" ng-click="clear()">
										<span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span>Cancel</span>
									</button>
									<button type="button"
										ng-disabled="editForm.$invalid || isSaving"
										class="btn btn-primary"
										ng-click="approvalDetailsSave(applicationTxn.id, applicationTxn.remarks)">
										<span class="glyphicon glyphicon-save"></span>&nbsp;<span>Save</span>
									</button>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
